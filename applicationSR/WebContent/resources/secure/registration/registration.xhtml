<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="/resources/templates/templateFull2.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:rich="http://richfaces.org/rich"
                 xmlns:richext="http://java.sun.com/jsf/composite/richext"
                xmlns:my="http://java.sun.com/jsf/composite/components"
                xmlns:ez="http://java.sun.com/jsf/composite/demo">
                
                <h:outputStylesheet>
      
      
    </h:outputStylesheet>
<ui:define name="metadata">
  <f:event type="preRenderView" listener="#{registrationBean.displayMessages}" />
</ui:define>
<ui:define name="content">
<rich:panel style="top:0px;margin-bottom:0px;margin-top:0px;margin-right:20px;background-color:#F2F2F2">
<h:form id="registerform" rendered="#{not identity.loggedIn}">
	 	<richext:spacer width="190" height="30"/>
	 	 <h:outputLabel value="Registrieren" styleClass="DialogHeadline" style="text-align:left;margin-right:0;margin-left:60px;margin-top:0px;"/>
	 	 <richext:spacer width="190" height="15"/>
	  <h:graphicImage value="/resources/gfx/borderLine.png" style="border:0 none;width:85%; height:2px;margin-left:60px;"/>
	      	<richext:spacer width="190" height="10"/>
		
	  
	     <h:panelGrid columns="3" border="0" style="margin-left:60px;" columnClasses="topAligned, topAligned">
	           
	         <h:panelGroup>
	         <h:panelGrid columns="1" border="0" style="margin-left:0px;margin-top:0px;">
				<richext:spacer width="127" height="1"/> 
				<h:panelGrid columns="1" border="0" columnClasses="topAligned">
		        	<h:panelGroup>
		      			<richext:spacer width="19" height="7"/>
		            	<h:outputLabel for="genderId2" value="#{msg.registerGender}: " styleClass="inputLabelRegister" />
		            </h:panelGroup>
		            <h:selectOneMenu id="genderId2" value="#{newCustomer.gender}" styleClass="inputRegister"  required="true" >
		             <rich:validator event="blur" oninvalid="$(#{rich:element('genderId2')}).addClass('invalid')"
	            	onvalid="$(#{rich:element('genderId2')}).removeClass('invalid')"/>
		            <f:selectItem itemValue="genderChoose" itemLabel="#{msg.registerGenderPlaceholder}" />
			   			<f:selectItem itemValue="male" itemLabel="#{msg.registerGenderM}" />
			   			<f:selectItem itemValue="female" itemLabel="#{msg.registerGenderF}" />
			   			<f:validator validatorId="net.application.web.validator.emptyGender" for="genderId2"/>
			   		</h:selectOneMenu>					
			   		<rich:message for="genderId2" ajaxRendered="true"/>  
			   	</h:panelGrid>
			   	</h:panelGrid>
	        </h:panelGroup>
	        <richext:spacer width="127" height="1"/> 
	          <richext:spacer width="127" height="1"/> 
	        
	        <h:panelGroup>
	        <h:panelGrid columns="1" border="0" style="margin-left:0px;margin-top:0px;">
				<richext:spacer width="127" height="1"/> 
				<my:inputTextWithUpperLabel labelString="#{msg.registerFirstName}: " value="#{newCustomer.firstName}" inputStyleClass="inputRegister" labelStyleClass="inputLabelRegister">
	
		        </my:inputTextWithUpperLabel>
		        </h:panelGrid>
	        </h:panelGroup>
	        <h:panelGroup >	        
		        <h:panelGrid columns="1" border="0" style="margin-left:60px;margin-top:0px;">
					<richext:spacer width="12" height="1"/> 
					<my:inputTextWithUpperLabel labelString="#{msg.registerLastName}: " value="#{newCustomer.lastName}" inputStyleClass="inputRegister" labelStyleClass="inputLabelRegister">
			        
			        </my:inputTextWithUpperLabel>
		        </h:panelGrid>
	        </h:panelGroup>
	          <richext:spacer width="127" height="1"/> 
	        
      	<h:panelGroup>
      	<h:panelGrid columns="1" border="0" style="margin-left:0px;margin-top:0px;" styleClass="inputLabelRegister">
				<richext:spacer width="12" height="1"/> 
				<my:inputTextWithUpperLabel labelString="#{msg.registerMail}: " value="#{newCustomer.email}" inputStyleClass="inputRegister" labelStyleClass="inputLabelRegister" >
		        <f:validator binding="#{validUsername}" for="input"/>
		        </my:inputTextWithUpperLabel>
		        </h:panelGrid>
	        </h:panelGroup>
        
	        <h:panelGroup>
		            <h:panelGroup>
			       			<richext:spacer width="190" height="11"/>
			                <h:outputLabel for="textPw1" value="#{msg.registerPassword}: " styleClass="inputLabelRegister" style="text-align:left;margin-right:0;margin-left:70px;margin-top:0px;"/>
			        </h:panelGroup>
			        	<h:panelGroup>
			        	 <h:panelGrid columns="2" border="0" style="margin-left:60px;margin-top:0px;" columnClasses="topAligned, topAligned">
				       <h:panelGroup>
			            <h:inputText id="textPw1" value="#{registrationBean.password}" required="true" validator="#{registrationBean.validatePassword}" styleClass="inputRegister" style="text-align:left;margin-right:0;margin-left:3px;margin-top:0px;">
			          <a4j:ajax event="keyup" listener="#{registrationBean.passwordStrength()}" render="piiic"/>
			                <rich:validator event="blur" oninvalid="$(#{rich:element('textPw1')}).addClass('invalid')" onvalid="$(#{rich:element('textPw1')}).removeClass('invalid')"/>
			            	<f:event listener="#{registrationBean.postValidatePassword}" type="postValidate">
			            	      </f:event>	
			        	</h:inputText>
			  			 <rich:message for="textPw1"  ajaxRendered="true"/> 
			        	
			        	</h:panelGroup>
				        <h:panelGroup>
				        
    
       
							
							
							<h:panelGroup id="piiic">
								<h:graphicImage value="/resources/gfx/grey4Led.png" style="border : 0 none;width : 184px; height : 22px;" rendered="#{registrationBean.secureLvl==0}" id="pic0"/>
								<h:graphicImage value="/resources/gfx/grey3Led.png" style="border : 0 none;width : 184px; height : 22px;" rendered="#{registrationBean.secureLvl==1}" id="pic1"/>
								<h:graphicImage value="/resources/gfx/grey2Led.png" style="border : 0 none;width : 184px; height : 22px;" rendered="#{registrationBean.secureLvl==2}" id="pic2"/>
								<h:graphicImage value="/resources/gfx/grey1Led.png" style="border : 0 none;width : 184px; height : 22px;" rendered="#{registrationBean.secureLvl==3}" id="pic3"/>
								<h:graphicImage value="/resources/gfx/grey0Led.png" style="border : 0 none;width : 184px; height : 22px;" rendered="#{registrationBean.secureLvl==4}" id="pic4"/>
						</h:panelGroup>
								<h:outputText value="#{msg.registerPasswordSecurity}" />
								 
							</h:panelGroup>
					</h:panelGrid>    
		        	</h:panelGroup>
	         	
	        </h:panelGroup>
	   <richext:spacer width="127" height="50"/> 
         <h:panelGroup>
         	   <richext:spacer width="127" height="50"/> 
         <h:panelGrid columns="2" border="0">
			<h:selectBooleanCheckbox value="#{newCustomer.confirmAgb}" id="confirmAgb" required="true">
			  <richext:spacer width="5" height="1"/>
	          <rich:validator event="blur" oninvalid="$(#{rich:element('confirmAgb')}).addClass('invalid')" onvalid="$(#{rich:element('confirmAgb')}).removeClass('invalid')"/>
		    </h:selectBooleanCheckbox>
			 <h:outputLabel value="#{msg.registerConfirmAgbCheckbox}" style="font-weight:bold;"/>
			 </h:panelGrid>
			  <rich:message for="confirmAgb"  ajaxRendered="true"/>
			     <h:commandButton action="exitRegistration" value="#{msg.flowCancel}" style="border:0 none;margin-left:60px;width:25%;font-size:small;height:40px;" immediate="true"/>
	       </h:panelGroup>
         <richext:spacer width="18" height="1"/>
          <richext:spacer width="280" height="1"/> 
   
           </h:panelGrid> 
          <richext:spacer width="180" height="20"/>
                <h:commandButton action="confirmRegistration" value="#{msg.registerButtonLabel}" style="border:0 none;margin-left:60px;width:85%;font-size:x-large;height:40px;"/>
       
  
		
</h:form>
</rich:panel>
	<br style="clear:both"/>
</ui:define>
<ui:define name="rside">
<rich:panel style="top:0px;margin-bottom:0px;margin-top:0px;margin-right:0px;background-color:#F2F2F2">

<li>wkefjwekfjw</li>
<li>scdwdf erfer ergf 3efg3g 3gf3g 3gv3rfe</li>

</rich:panel>


</ui:define>
</ui:composition>
