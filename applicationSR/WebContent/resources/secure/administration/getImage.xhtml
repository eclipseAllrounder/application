<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="/resources/templates/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:rich="http://richfaces.org/rich"
                 xmlns:richext="http://java.sun.com/jsf/composite/richext"
                xmlns:my="http://java.sun.com/jsf/composite/components"
                xmlns:t="http://myfaces.apache.org/tomahawk"
                xmlns:ez="http://java.sun.com/jsf/composite/demo">
<ui:define name="content">
<f:metadata>
    <f:viewParam name="CKEditorFuncNum" value="#{imageUploadBean.CKEditorFuncNum}" />
    <f:viewParam name="CKEditor" value="#{imageUploadBean.CKEditor}" />
    <f:viewParam name="langCode" value="#{imageUploadBean.langCode}" />
   
</f:metadata>
<h:form id="verifyform">
	
	<richext:spacer width="123" height="10"/>
	<rich:panel>
		<f:facet name="header">
	  		<h:outputText value="#{msg.headerRegisterVerfiy}" style="font-size:14px;margin-left:10px;font-family: 'Times New Roman', Times, serif;"/>
		</f:facet>
		<richext:spacer width="127" height="20"/> 
		<h:outputText value="Parameter:" />
		<h:panelGrid columns="1">
		<h:outputLabel value="#{imageUploadBean.CKEditorFuncNum}"/>
		<h:outputLabel value="#{imageUploadBean.CKEditor}"/>
		<h:outputLabel value="#{imageUploadBean.langCode}"/>
		</h:panelGrid>
		<richext:spacer width="127" height="20"/> 	
		<script type="text/javascript">
function checkPasswords() {
	var funcNum = #{imageUploadBean.CKEditorFuncNum};
	var fileUrl = '/resources/gfx/false.png';
	window.opener.CKEDITOR.tools.callFunction(funcNum, fileUrl);
   return false;
}
</script>
<h:commandButton  id="login" value="Get Image" action="login"
             onclick="checkPasswords();" type="submit"/>
	</rich:panel>

 <!-- inputFile tag to upload file -->
Upload File

  <rich:fileUpload fileUploadListener="#{imageUploadBean.listener}" id="upload" acceptedTypes="jpg, gif, png, bmp"
                ontyperejected="alert('Only JPG, GIF, PNG and BMP files are accepted');" maxFilesQuantity="5">
                <a4j:ajax event="uploadcomplete" execute="@none" render="info" />
  </rich:fileUpload>
           

<h:panelGroup id="info" layout="block">
<rich:panel bodyClass="info">
	<f:facet name="header">
		<h:outputText value="Uploaded Files Info" />
	</f:facet>
	<h:outputText value="No files currently uploaded" rendered="#{imageUploadBean.size==0}" />
	<rich:panel bodyClass="rich-laguna-panel-no-header">
	 <rich:dataGrid columns="1" value="#{imageUploadBean.files}" var="file" rowKeyVar="row">
                        <rich:panel bodyClass="rich-laguna-panel-no-header">
                            <h:panelGrid columns="2">
                                <a4j:mediaOutput element="img" mimeType="image/jpeg" createContent="#{imageUploadBean.paint}"
                                    value="#{row}" style="width:100px; height:100px;" cacheable="false">
                                    <f:param value="#{imageUploadBean.timeStamp}" name="time" />
                                </a4j:mediaOutput>
                                <h:panelGrid columns="2">
                                    <h:outputText value="File Name:" />
                                    <h:outputText value="#{file.name}" />
                                    <h:outputText value="File Length(bytes):" />
                                    <h:outputText value="#{file.length}" />
                                </h:panelGrid>
                            </h:panelGrid>
                        </rich:panel>
                    </rich:dataGrid>
</rich:panel>
</rich:panel>
<br />
<a4j:commandButton action="#{imageUploadBean.clearUploadData}" render="info, upload" value="Clear Uploaded Data"
rendered="#{imageUploadBean.size>0}" />
</h:panelGroup>

</h:form>
	<br style="clear:both"/>
</ui:define>
<ui:define name="rside">hhhalllo khgui guigug oiugiu gigiuguigiu giuiugoigiugoiugoigiuguigiu ggugoigiuguigg  uiiuhuiguigiuguigiusete</ui:define>
</ui:composition>
