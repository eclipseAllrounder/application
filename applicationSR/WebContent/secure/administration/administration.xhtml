<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="/resources/templates/templateFull2.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:rich="http://richfaces.org/rich"
                 xmlns:richext="http://java.sun.com/jsf/composite/richext"
                xmlns:my="http://java.sun.com/jsf/composite/components"
                xmlns:ez="http://java.sun.com/jsf/composite/demo">
          
  <ui:define name="content">
        <h:outputStylesheet>

      .rf-tab-cnt
 		{
            
            background-color: #F2F2F2;           
        }
        .rf-tab-hdr-spcr
 		{
            
            background-color: #ffe6d9; 
            padding:0px;
            margin:0px;          
        }
       .rf-tab-hdr-tabline-top, .rf-tbp, .rf-tab-hdr-spcr, .rf-tab-hdn, .rf-tab-hdr-tablst, .rf-tab-hdr-brd, .rf-tab-hdr-spcr, .rf-tab-cnt, .rf-tab-hdr-scrl-lft, .rf-tab-hdr-scrl-rgh, .rf-tab-hdr-act, .rf-tab-hdr-inact, .rf-tab-hdr, .rf-tab-hdr-dis, .rf-tab-hdr-tabline-vis, .rf-tab-hdr-tabs
        {

        }
        
        
        .rf-tab-hdr{
        height:20px;
        
        }
        </h:outputStylesheet>
<rich:panel style="top:0px;margin-left:0px;padding-left:0px;margin-bottom:0px;margin-top:0px;margin-right:20px;padding-right:0px;background-color:#F2F2F2;" rendered="#{identity.loggedIn}" styleClass="panelShadowBox">  
  
  	<richext:spacer width="190" height="30"/>
	<h:outputLabel value="Applikation Control" styleClass="DialogHeadline" style="text-align:left;margin-right:0;margin-left:60px;margin-top:0px;"/>
	<richext:spacer width="190" height="15"/>
	<h:graphicImage value="/resources/gfx/borderLine.png" style="border:0 none;width:85%; height:2px;margin-left:60px;"/>
	<richext:spacer width="190" height="10"/> 
    <h:form id="parentForm">
    
    	<richext:spacer width="190" height="30"/>
  	 <h:panelGrid columns="4" border="0">  
  	 <h:panelGroup>
		 <h:commandButton  action="#{webAdminController.switchToSubTask('sandboxControl')}" id="labelLogin" value="Sandbox"  immediate="true"
		     style="#{webAdminController.selectedButtonSubTaskString.matches('sandboxControl') ? 'margin-left:30px;top:0px;margin-bottom:0px;margin-top:0px;margin-right:40px;background-color:#F2F2F2;background-image: url();color:#ff8040;font-size:15px;border:none;font-weight: bold;
		     																			overflow: visible;
																						background: linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -o-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -ms-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -moz-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -webkit-linear-gradient(#EDEDED 0, #F2F2F2 20px)' : 
	                                                                                  'margin-left:30px;top:0px;margin-bottom:0px;margin-top:0px;margin-right:40px;background-color:#F2F2F2;background-image: url();color:#515151;font-size:15px;border:none;font-weight: bold;
	                                                                                  	overflow: visible;
																						background: linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -o-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -ms-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -moz-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -webkit-linear-gradient(#EDEDED 0, #F2F2F2 20px)'}">
		     <f:ajax execute="@form" render="@form"/> 
		 </h:commandButton>
		 <h:graphicImage id="line" value="/resources/gfx/borderLine.png" style="#{webAdminController.selectedButtonSubTaskString.matches('sandboxControl') ? 'margin-left:30px;display:block;width:110px;height:2px;' : 'margin-left:30px;display:none;width:110px;height:2px;'}"/>
	 </h:panelGroup>
	<h:panelGroup>	
		<h:commandButton  action="#{webAdminController.switchToSubTask('mailControl')}" id="labelLogin2" value="Mailserver" immediate="true"
		    style="#{webAdminController.selectedButtonSubTaskString.matches('mailControl') ? 'margin-left:60px;top:0px;margin-bottom:0px;margin-top:0px;margin-right:40px;background-color:#F2F2F2;background-image: url();color:#ff8040;font-size:15px;border:none;font-weight: bold;
		     																			overflow: visible;
																						background: linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -o-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -ms-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -moz-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -webkit-linear-gradient(#EDEDED 0, #F2F2F2 20px)' :  
	                                                                                'margin-left:60px;top:0px;margin-bottom:0px;margin-top:0px;margin-right:40px;background-color:#F2F2F2;background-image: url();color:#515151;font-size:15px;border:none;font-weight: bold;
	                                                                                  	overflow: visible;
																						background: linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -o-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -ms-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -moz-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -webkit-linear-gradient(#EDEDED 0, #F2F2F2 20px)'}">
		     <f:ajax execute="@form" render="@form"/> </h:commandButton>
		 <h:graphicImage id="line2" value="/resources/gfx/borderLine.png" style="#{webAdminController.selectedButtonSubTaskString.matches('mailControl') ? 'margin-left:60px;display:block;width:130px;height:2px;' : 'margin-left:30px;display:none;width:130px;height:2px;'}"/>
    </h:panelGroup>
	<h:panelGroup>	
		<h:commandButton  action="#{webAdminController.switchToSubTask('applicationControl')}" id="labelLogin3" value="Applikation" immediate="true"
		    style="#{webAdminController.selectedButtonSubTaskString.matches('applicationControl') ? 'margin-left:60px;top:0px;margin-bottom:0px;margin-top:0px;margin-right:40px;background-color:#F2F2F2;background-image: url();color:#ff8040;font-size:15px;border:none;font-weight: bold;
		     																			overflow: visible;
																						background: linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -o-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -ms-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -moz-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -webkit-linear-gradient(#EDEDED 0, #F2F2F2 20px)' :  
	                                                                                'margin-left:60px;top:0px;margin-bottom:0px;margin-top:0px;margin-right:40px;background-color:#F2F2F2;background-image: url();color:#515151;font-size:15px;border:none;font-weight: bold;
	                                                                                  	overflow: visible;
																						background: linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -o-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -ms-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -moz-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -webkit-linear-gradient(#EDEDED 0, #F2F2F2 20px)'}">
		     <f:ajax execute="@form" render="@form"/> </h:commandButton>
		 <h:graphicImage id="line3" value="/resources/gfx/borderLine.png" style="#{webAdminController.selectedButtonSubTaskString.matches('applicationControl') ? 'margin-left:60px;display:block;width:130px;height:2px;' : 'margin-left:30px;display:none;width:150px;height:2px;'}"/>
    </h:panelGroup>
    	<h:panelGroup>	
		<h:commandButton  action="#{webAdminController.switchToSubTask('contentControl')}" id="labelLogin4" value="Content" immediate="true"
		    style="#{webAdminController.selectedButtonSubTaskString.matches('contentControl') ? 'margin-left:60px;top:0px;margin-bottom:0px;margin-top:0px;margin-right:40px;background-color:#F2F2F2;background-image: url();color:#ff8040;font-size:15px;border:none;font-weight: bold;
		     																			overflow: visible;
																						background: linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -o-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -ms-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -moz-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -webkit-linear-gradient(#EDEDED 0, #F2F2F2 20px)' :  
	                                                                                'margin-left:60px;top:0px;margin-bottom:0px;margin-top:0px;margin-right:40px;background-color:#F2F2F2;background-image: url();color:#515151;font-size:15px;border:none;font-weight: bold;
	                                                                                  	overflow: visible;
																						background: linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -o-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -ms-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -moz-linear-gradient(#EDEDED 0, #F2F2F2 20px);	
																						background: -webkit-linear-gradient(#EDEDED 0, #F2F2F2 20px)'}">
		     <f:ajax execute="@form" render="@form"/> </h:commandButton>
		 <h:graphicImage id="line4" value="/resources/gfx/borderLine.png" style="#{webAdminController.selectedButtonSubTaskString.matches('contentControl') ? 'margin-left:60px;display:block;width:130px;height:2px;' : 'margin-left:30px;display:none;width:150px;height:2px;'}"/>
    </h:panelGroup>
    
         <!-- <rich:jQuery selector="#{rich:element('labelLogin')}" event="mouseover" query="jQuery(#{rich:element('line')}).css({'display': 'block'})" />  -->
    <ui:fragment rendered="#{not webAdminController.selectedButtonSubTaskString.matches('sandboxControl')}"><rich:jQuery selector="#{rich:element('labelLogin')}" event="mouseout" query="jQuery(#{rich:element('line')}).css({'display': 'none'})" /></ui:fragment> 
     <rich:jQuery selector="#{rich:element('labelLogin')}" event="mouseover" query="jQuery(this).css({'color': '#ff8040'})" /> 
    <ui:fragment rendered="#{not webAdminController.selectedButtonSubTaskString.matches('sandboxControl')}"><rich:jQuery selector="#{rich:element('labelLogin')}" event="mouseout" query="jQuery(this).css({'color': '#515151'})" /> </ui:fragment>
     
    <!-- <rich:jQuery selector="#{rich:element('labelLogin2')}" event="mouseover" query="jQuery(#{rich:element('line2')}).css({'display': 'block'})" />  -->
    <ui:fragment rendered="#{not webAdminController.selectedButtonSubTaskString.matches('mailControl')}"><rich:jQuery selector="#{rich:element('labelLogin2')}" event="mouseout" query="jQuery(#{rich:element('line2')}).css({'display': 'none'})" /></ui:fragment> 
     <rich:jQuery selector="#{rich:element('labelLogin2')}" event="mouseover" query="jQuery(this).css({'color': '#ff8040'})" /> 
    <ui:fragment rendered="#{not webAdminController.selectedButtonSubTaskString.matches('mailControl')}"><rich:jQuery selector="#{rich:element('labelLogin2')}" event="mouseout" query="jQuery(this).css({'color': '#515151'})" /> </ui:fragment>
   
     <!-- <rich:jQuery selector="#{rich:element('labelLogin2')}" event="mouseover" query="jQuery(#{rich:element('line2')}).css({'display': 'block'})" />  -->
    <ui:fragment rendered="#{not webAdminController.selectedButtonSubTaskString.matches('applicationControl')}"><rich:jQuery selector="#{rich:element('labelLogin3')}" event="mouseout" query="jQuery(#{rich:element('line3')}).css({'display': 'none'})" /></ui:fragment> 
     <rich:jQuery selector="#{rich:element('labelLogin3')}" event="mouseover" query="jQuery(this).css({'color': '#ff8040'})" /> 
    <ui:fragment rendered="#{not webAdminController.selectedButtonSubTaskString.matches('applicationControl')}"><rich:jQuery selector="#{rich:element('labelLogin3')}" event="mouseout" query="jQuery(this).css({'color': '#515151'})" /> </ui:fragment>
   
     <!-- <rich:jQuery selector="#{rich:element('labelLogin2')}" event="mouseover" query="jQuery(#{rich:element('line2')}).css({'display': 'block'})" />  -->
    <ui:fragment rendered="#{not webAdminController.selectedButtonSubTaskString.matches('contentControl')}"><rich:jQuery selector="#{rich:element('labelLogin4')}" event="mouseout" query="jQuery(#{rich:element('line4')}).css({'display': 'none'})" /></ui:fragment> 
     <rich:jQuery selector="#{rich:element('labelLogin4')}" event="mouseover" query="jQuery(this).css({'color': '#ff8040'})" /> 
    <ui:fragment rendered="#{not webAdminController.selectedButtonSubTaskString.matches('contentControl')}"><rich:jQuery selector="#{rich:element('labelLogin4')}" event="mouseout" query="jQuery(this).css({'color': '#515151'})" /> </ui:fragment>
     
</h:panelGrid>  



<h:panelGroup>

<ui:fragment rendered="#{webAdminController.selectedButtonSubTaskString.matches('mailControl')}">
<ui:include src="/secure/administration/mailControlling.xhtml" />
</ui:fragment>

</h:panelGroup>
  
    

    <rich:tabPanel  id="administrationTab" switchType="ajax" activeItem="skinTab" style="padding-left:1%;width:98%;" immediate="true">
    <rich:tab  id="skinTab" immediate="true" action="#{webAdminController.changeSidebarString('skinControl')}" render="sidebar,sidebarSkin,sidebarContent" execute="@this" >
    <f:facet name="headerActive"><richext:spacer width="100" height="1"/> <h:outputText value="#{msg.skinTabHeader}"/></f:facet> 
    <f:facet name="headerInactive"><richext:spacer width="100" height="1"/> <h:outputText value="#{msg.skinTabHeader}"/></f:facet> 
    <fieldset> <legend style="font-size:1.3em;font-family:Times New Roman;"><h:outputText value="#{msg.chooseSkin}"></h:outputText></legend>
 

	<rich:panel>
	<f:facet name="header">
	  <h:outputText value="#{msg.headerAdminSkin}"/>
	</f:facet>
		
            
            <h:panelGrid columns="3" border="0" columnClasses="colStyleRegister1,colStyleRegister2,colStyleRegister2">
        	<h:panelGroup>
      		 <richext:spacer width="127" height="1"/>
            <h:outputLabel for="skinId" value="#{msg.registerCountry}: " style="text-align:right;margin-right:0;margin-left:10px"/>
            </h:panelGroup>
		
	   		 <rich:select id="select" defaultLabel="#{msg.defaultLabelSelectSkin}">
				    <f:selectItems value="#{webAdminController.allSkins}" var="item" itemLabel="#{item.label}" />
				    <a4j:ajax event="selectitem" oncomplete="updateBean(#{rich:component('select')}.getValue())" />
				</rich:select>
				
				<a4j:jsFunction name="updateBean"  render="administrationFormSkin">
				    <a4j:param assignTo="#{webAdminController.selectedSkin}" name="value" />
				</a4j:jsFunction>
	   		<richext:spacer width="10"/>
	   		</h:panelGrid>
            
	</rich:panel>

    <h:commandButton actionListener="#{webAdminController.create}" value="#{msg.webAdminButtonLabel}" />
    </fieldset>
 
   </rich:tab>
    <rich:tab  id="mailTab" immediate="true"> 
    <f:facet name="headerActive"><richext:spacer width="100" height="1"/> <h:outputText value="#{msg.mailserverTabHeader}"/></f:facet> 
    <f:facet name="headerInactive"><richext:spacer width="100" height="1"/> <h:outputText value="#{msg.mailserverTabHeader}"/></f:facet> 
    
 
   </rich:tab>
    <rich:tab header="#{msg.applicationControlTabHeader}" id="applContrTab" immediate="true"> 
   	<fieldset> <legend style="font-size:1.3em;font-family:Times New Roman;"><h:outputText value="#{msg.manageApplicationControl}"></h:outputText></legend>
    <my:inputText converterMessage="#{msg.notInteger}" label="#{msg.appContrDoe}:" value="#{newApplicationControl.accountExpireDays}" space="240" size="50"/>
    
	<h:panelGrid columns="3" border="0">
	   	<h:panelGroup>
	   		<richext:spacer width="240" height="1"/>
	    	<h:outputLabel for="verificationViaMailId" value="#{msg.appContrVerificationViaMail}: " styleClass="formtxt" style="text-align:right;margin-right:0;margin-left:0px"/>
	    </h:panelGroup>
	    <h:panelGroup>
			<h:selectOneRadio id="verificationViaMailId" value="#{newApplicationControl.verificationViaMail}">
	        	<f:selectItem itemLabel="#{msg.yes}" itemValue="true" />
	            <f:selectItem itemLabel="#{msg.no}" itemValue="false" />
	            <rich:validator event="blur" oninvalid="$(#{rich:element('verificationViaMailId')}).addClass('invalid')"
	            	onvalid="$(#{rich:element('verificationViaMailId')}).removeClass('invalid')" />
	        </h:selectOneRadio>
	    </h:panelGroup>
	    <rich:message for="verificationViaMailId" ajaxRendered="true" />
	</h:panelGrid>
       <h:commandButton id="createApplContrButton" actionListener="#{webAdminController.createApplicationControl()}" value="#{msg.buttonEdit}" />
 <h:messages  showDetail="true" showSummary="false" globalOnly="true"/>
   </fieldset>
   </rich:tab>
    <rich:tab id="contentTab" header="#{msg.contentTabHeader}" action="#{webAdminController.changeSidebarString('contentControl')}" render="sidebar,sidebarSkin,sidebarContent" execute="@this" immediate="true">
   <ui:include src="/secure/administration/content.xhtml" />
   
   </rich:tab>  
   </rich:tabPanel>
    </h:form>
</rich:panel>
<br style="clear:both"/>
 </ui:define>
    
     <ui:define name="rside">
     
		<a4j:outputPanel id="sidebar" style="top:0px;margin-bottom:0px;margin-top:0px;margin-right:0px;padding:0px;background-color:#F2F2F2; width:100%;vertical-align:top;" rendered="#{identity.loggedIn}">
			
			 <a4j:outputPanel id="sidebarSkin" style="background-color:#F2F2F2; width:100%;vertical-align:top;" rendered="#{webAdminController.sideBar.matches('skinControl')}">
			 	<ui:include src="/secure/administration/sidebarForSkinControl.xhtml" />
			 </a4j:outputPanel>
			 <a4j:outputPanel id="sidebarContent" style="background-color:#F2F2F2; width:100%;vertical-align:top;" rendered="#{webAdminController.sideBar.matches('contentControl')}">
			 	<ui:include src="/secure/administration/sidebarForContentControl.xhtml" />
			 </a4j:outputPanel>
	   	</a4j:outputPanel>

     </ui:define>
</ui:composition>
